logging:
  level:
    org.springframework.cloud.gateway: DEBUG
    com.etna.gpe.mycloseshop: DEBUG

spring:
  application:
    name: api-gateway
  cloud:
    gateway:
      routes:
        - id: login-service
          uri: ${MS_LOGIN_HOST:http://localhost}:${MS_LOGIN_PORT:8081}${MS_LOGIN_PATH:/api/ms-login/}
          predicates:
            - Path=/api/ms-login/**
          filters:
            - name: CircuitBreaker
              args:
                name: login-service
                fallbackUri: forward:/fallback/login

      default-filters:
        - name: RemoveRequestHeader
          args:
            name: X-Forwarded-For
        - name: RemoveRequestHeader
          args:
            name: X-Forwarded-Proto
        - name: RemoveRequestHeader
          args:
            name: X-Forwarded-Port
        - name: RemoveRequestHeader
          args:
            name: Forwarded

server:
  port: 8080
  max-http-request-header-size: 16384
